<html>
    <head>
        <meta charset="utf-8">
        <title>
            Aayla Fetzer - Language Selector
        </title>
    </head>
    <body>
        <p>The Javascript on this page should detect your preferred language automatically, but if your browser is unsupported or my code is broken you can follow the links below to the available languages.</p>
        <a href="en">English</a>
        <a href="es">Español</a>
        <a href="ru">Русский</a>
    </body>
    <script>
        //List of supported languages
        var languages = ["en", "es"]
        //Function to redirect the user
        function redirect(url) {
            window.location.href = url;
        }
        //Detect the user's preferred languages
        navigator.languages.forEach(element => {
            console.log("Testing language: " + element);
            if (languages.includes(element)) {
                console.log("Redirecting")
                redirect(element);
                throw new Error("This is not an error. This just stops a loop.");
            }
        });
        setTimeout(() => {
            redirect("en"); //The site is not supported in any of the user's languages
        }, 1000); //Add a delay to give the user time to redirect elsewhere
    </script>
</html>